/* データを探しましょう、主様。
 * Let's search the data, my master.
 * Kokkoro data structure
 * [SENSOR DATA]              [SYMBOL]
 * s0 s1 s2 s3 s4 s5 s6 s7 s8 syb
 *  0  0  0  0  0  0  0  0  0   #
 * symbol(syb)
 * ∅ -> 0
 * + -> 1
 * - -> 2
 * x -> 3
 * / -> 4
 */
#pragma once

#ifndef __KOKKORO_DATA__
#define __KOKKORO_DATA__

#define kokkoro_loop        while (true)
#define kokkoro_bytebitsz   0x08
#define kokkoro_sleep_ms    0x0a

#define kokkoro_key_exit    0x1b
#define kokkoro_key_reset   0x08

#define kokkoro_data_thdsz  0x02

#ifndef kokkoro_data_bitsz
#define kokkoro_data_bitsz  kokkoro_data_thdsz
#endif

#ifndef kokkoro_data_segcnt
#define kokkoro_data_segcnt 0x03
#endif

#ifndef kokkoro_data_arrsz
#define kokkoro_data_arrsz  0x09
#endif

#ifndef kokkoro_data_save
#define kokkoro_data_save   false
#endif

#ifndef kokkoro_dcb_start
#define kokkoro_dcb_start   0x3f
#endif

#ifndef kokkoro_dcb_msg
#define kokkoro_dcb_msg     false
#endif

#ifndef kokkoro_dcb_peak
#define kokkoro_dcb_peak    false
#endif

#define kokkoro_data_bitcnt ((kokkoro_data_segcnt + 1) << kokkoro_data_segcnt)

/* Sensor arrangement
*************  array -> 3 * 3 = 9
* 0 * 0 * 0 *  symbol no.
*************  + | (1 0 0 0)
* 0 * 0 * 0 *  - | (0 1 0 0)
*************  x | (0 0 1 0)
* 0 * 0 * 0 *  / | (0 0 0 1)
*************  dim.= 4
* voltage threshold value (0 1 2 3)
*/ 
KOKKORO_BEGIN struct kokkoro_array { int sen_arr[kokkoro_data_arrsz] = {0}; }; KOKKORO_END

#define kokkoro_syb_check(ch_val)   (ch_val == '1' || ch_val == '2' || ch_val == '3' || ch_val == '4')

#if kokkoro_dcb_msg
#include <bitset>
#endif
#include <conio.h>
#include "../CSV/csv"
#include "../../COM/dcb.h"
#include "kokkoro_data.hpp"

#endif